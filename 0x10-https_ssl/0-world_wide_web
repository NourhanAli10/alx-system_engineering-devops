#!/usr/bin/env bash
# script that will display information about subdomains

display_info() {
    local subdomain=$1
    local domain=$2

    # Use dig to get the DNS information
    result=$(dig +short $subdomain.$domain)

    # Extract record type and destination using awk
    record_type=$(echo "$result" | awk '{print $1}')
    destination=$(echo "$result" | awk '{print $2}')

    # Display the information
    echo "The subdomain $subdomain is a $record_type record and points to $destination"
}

# Check if the required arguments are provided
if [ $# -lt 1 ]; then
    echo "Usage: $0 <domain> [subdomain]"
    exit 1
fi

domain=$1
subdomain=$2

# If subdomain is not provided, use default subdomains
if [ -z "$subdomain" ]; then
    subdomains=("www" "lb-01" "web-01" "web-02")

    # Loop through default subdomains
    for default_subdomain in "${subdomains[@]}"; do
        display_info "$default_subdomain" "$domain"
    done
else
    # Display information for the specified subdomain
    display_info "$subdomain" "$domain"
fi
